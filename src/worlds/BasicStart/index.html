<html>
<head>
  <!-- Circles' head scripts [REQUIRED] -->
  <circles-start-scripts/>
  <!-- Physics script goes after the Circles' head scripts [IMPORTANT]-->
  <script src="/global/js/libs/aframe-physics-system.min.js"></script>
  <!-- Game Master Component and Script -->
  <script src="/worlds/BasicStart/components/game-manager.js"></script>
  <!-- Artifact Handling Component and Script -->
  <script src="/worlds/BasicStart/scripts/spawn-artifacts.js"></script>
  <script src="/worlds/BasicStart/components/artifact-component.js"></script>
  <!--Other Components -->
  <script src="/worlds/BasicStart/components/floating-ui.js"></script>
  <script src="/worlds/BasicStart/components/item-pickup-drop-manager.js"></script>
  <script src="/worlds/BasicStart/components/item-checker.js"></script>
  <script src="/worlds/BasicStart/components/screen.js"></script>
  <script src="/worlds/BasicStart/components/model-opacity.js"></script>
  <!-- External Library Dependancies -->
  <!-- A-Frame Look-At -->
  <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script> 


</head>

<body> 
  <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
  <circles-start-ui/>

  <!-- a-scene with 'circles-properties' component [REQUIRED] -->
  <a-scene circles_scene_properties physics="debug:true; gravity:-9.8; friction: 0.1;">

    <a-assets>

      <!-- Circles' built-in assets [REQUIRED] -->
      <circles-assets/>

      <!-- Spawnpoint -->
      <a-entity circles-checkpoint circles-spawnpoint position="-9 0 0"></a-entity>

      <!-- Environment (.glb) & Navmesh Models -->
      <a-asset-item id="ID_Environment_Model" src="/worlds/BasicStart/assets/models/Environment.glb" response-type="arraybuffer" timeout="10000"></a-asset-item>
      <a-asset-item id="ID_Navmesh_Model" src="/worlds/BasicStart/assets/models/Navmesh.glb" response-type="arraybuffer"></a-asset-item>
      
      <!-- Artifact Models (.glb) -->
      <a-asset-item id="ID_Clock_Model" src="/worlds/BasicStart/assets/models/artifacts/Clock.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_DiskDrive_Model" src="/worlds/BasicStart/assets/models/artifacts/DiskDrive.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Fridge_Model" src="/worlds/BasicStart/assets/models/artifacts/Fridge.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_OpticalLens_Model" src="/worlds/BasicStart/assets/models/artifacts/OpticalLens.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Radio_Model" src="/worlds/BasicStart/assets/models/artifacts/Radio.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Syringe_Model" src="/worlds/BasicStart/assets/models/artifacts/Syringe.glb" response-type="arraybuffer"></a-asset-item>
      
      <a-asset-item id="ID_Camera_Model" src="/worlds/BasicStart/assets/models/artifacts/Camera.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Joystick_Model" src="/worlds/BasicStart/assets/models/artifacts/Joystick.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Poster_Model" src="/worlds/BasicStart/assets/models/artifacts/Poster.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Television_Model" src="/worlds/BasicStart/assets/models/artifacts/Television.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Toaster_Model" src="/worlds/BasicStart/assets/models/artifacts/Toaster.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_WashingMachine_Model" src="/worlds/BasicStart/assets/models/artifacts/WashingMachine.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Wheel_Model" src="/worlds/BasicStart/assets/models/artifacts/Wheel.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_FlightSimulator_Model" src="/worlds/BasicStart/assets/models/artifacts/FlightSimulator.glb" response-type="arraybuffer"></a-asset-item>


      <!-- UI Models (.obj and .mtl) -->
      <a-asset-item id="ID_UI_Game_Info_Model" src="/worlds/BasicStart/assets/models/ui/backup/UI_GameInfo.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_UI_Object_Info_Model" src="/worlds/BasicStart/assets/models/ui/backup/UI_ObjectInfo.glb" response-type="arraybuffer"></a-asset-item>

      <!-- Audio Files (.wav) -->
      <a-asset-item id="ID_Spaceship_Ambience_SFX" src="/worlds/BasicStart/assets/audio/SFX/Spaceship_Ambience.wav" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Door_Hiss_SFX" src="/worlds/BasicStart/assets/audio/SFX/Door_Hiss.wav" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Item_Pickup_SFX" src="/worlds/BasicStart/assets/audio/SFX/Item_Pickup.wav" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Item_Dropped_SFX" src="/worlds/BasicStart/assets/audio/SFX/Item_Dropped.wav" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Item_Held_SFX" src="/worlds/BasicStart/assets/audio/SFX/Item_Held.wav" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Checking_Item_SFX" src="/worlds/BasicStart/assets/audio/SFX/Checking_Item.wav" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Wrong_Item_SFX" src="/worlds/BasicStart/assets/audio/SFX/Wrong_Item.wav" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Correct_Item_SFX" src="/worlds/BasicStart/assets/audio/SFX/Correct_Item.wav" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_System_Beep_SFX" src="/worlds/BasicStart/assets/audio/SFX/System_Beep.wav" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ID_Intro_Narration_SFX" src="/worlds/BasicStart/assets/audio/SFX/Intro_Narration.wav" response-type="arraybuffer"></a-asset-item>

      <!-- Images (.jpg) -->
      <img id="ID_Clock_IMG" src="/worlds/BasicStart/assets/images/IMG_AutomotiveClock.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_OpticalLens_IMG" src="/worlds/BasicStart/assets/images/IMG_FlatOptical.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_DiskDrive_IMG" src="/worlds/BasicStart/assets/images/IMG_ControllerDiskDrive.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_Fridge_IMG" src="/worlds/BasicStart/assets/images/IMG_ElectricRefrigerator.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_Radio_IMG" src="/worlds/BasicStart/assets/images/IMG_ReceiverRadio.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_Syringe_IMG" src="/worlds/BasicStart/assets/images/IMG_IrrigationSyringe.png" crossorigin="anonymous"></a-asset-item>

      <img id="ID_Camera_IMG" src="/worlds/BasicStart/assets/images/IMG_StereoCamera.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_Joystick_IMG" src="/worlds/BasicStart/assets/images/IMG_Joystick.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_Poster_IMG" src="/worlds/BasicStart/assets/images/IMG_WarPoster.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_Television_IMG" src="/worlds/BasicStart/assets/images/IMG_RecieverTelevision.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_Toaster_IMG" src="/worlds/BasicStart/assets/images/IMG_ElectricToaster.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_WashingMachine_IMG" src="/worlds/BasicStart/assets/images/IMG_WasherSpinDryer.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_Wheel_IMG" src="/worlds/BasicStart/assets/images/IMG_SteeringWheelShip.png" crossorigin="anonymous"></a-asset-item>
      <img id="ID_FlightSimulator_IMG" src="/worlds/BasicStart/assets/images/IMG_FlightSimulator.png" crossorigin="anonymous"></a-asset-item>

    </a-assets>
 
    <!-- Circles' built-in manager and avatar [REQUIRED] -->
    <circles-manager-avatar/>
    
    <!--Non-Diagetic Sounds -->
    <a-entity circles-sound="type:ambience; src:#ID_Spaceship_Ambience_SFX; autoplay:true; loop:true; volume:0.1;"></a-entity>
    <a-entity circles-sound="type:basic-nondiegetic; src:#ID_Door_Hiss_SFX; autoplay:true; volume:0.1;"></a-entity>
    <a-entity id="pickupSFXPlayer" circles-sound="type:basic-nondiegetic; src:#ID_Item_Pickup_SFX; autoplay:false; loop:false; volume:0.2;"></a-entity>
    <a-entity id="dropSFXPlayer" circles-sound="type:basic-nondiegetic; src:#ID_Item_Dropped_SFX; autoplay:false; loop:false; volume:0.2;"></a-entity>
    <a-entity id="heldSFXPlayer" circles-sound="type:basic-nondiegetic; src:#ID_Item_Held_SFX; autoplay:false; loop:true; volume:0.19;"></a-entity>
    <a-entity id="introSFXPlayer" circles-sound="type:basic-nondiegetic; src:#ID_Intro_Narration_SFX; autoplay:false; loop:false; volume:0.19;"></a-entity>

    <!-- Manager Components -->
    <a-entity item-pickup-drop-manager></a-entity>
    <a-entity game-manager id='ID_Game_Manager'></a-entity>

    <!-- Artifact Entities -->
    <a-entity
      id="ID_Artifact_Entity_1"
      position="-9 1 -2"
      rotation="0 0 0"
      scale="1 1 1"
      gltf-model=""
      artifact-component
      circles-pickup-networked
      circles-pickup-object="pickupScale:1 1 1; pickupRotation:0 -190 0; pickupPosition:0 -1 0; dropScale: 1 1 1; dropRotation: 0 0 0; dropPosition: -9 1 -2"
    ></a-entity>
    
    <a-entity
      id="ID_Artifact_Entity_2"
      position="-9 1 -4"
      rotation="0 0 0"
      scale="1 1 1"
      gltf-model=""
      artifact-component
      circles-pickup-networked
      circles-pickup-object="pickupScale:1 1 1; pickupRotation:0 -190 0; pickupPosition:0 -1 0; dropScale: 1 1 1; dropRotation: 0 0 0; dropPosition: -9 1 -4"
    ></a-entity>
    
    <a-entity
      id="ID_Artifact_Entity_3"
      position="-9 1 -6"
      rotation="0 0 0"
      scale="1 1 1"
      gltf-model=""
      artifact-component
      circles-pickup-networked
      circles-pickup-object="pickupScale:1 1 1; pickupRotation:0 -190 0; pickupPosition:0 -1 0; dropScale: 1 1 1; dropRotation: 0 0 0; dropPosition: -9 1 -6"
    ></a-entity>

    <!-- Item Checker -->
    <a-entity
      id="ID_Artifact_Checker_1"
      position="-13.104 0.539 6.973"
      rotation="0 90 0"
      item-checker
    ></a-entity>

    <!-- <a-entity obj-model="obj:#ID_UI_Game_Info_Model; mtl:#ID_UI_Game_Info_Mtl"></a-entity> -->

    <!-- Screens -->
    <a-entity screen id="ID_Screen_1" position="-8.652 1.85045 8.802" geometry="primitive:box"></a-entity>
    <a-entity screen id="ID_Screen_2" position="-21.542 1.85045 8.802" geometry="primitive:box"></a-entity>
    <!-- <a-box
      id="ID_Artifact_Checker_2"
      position="-3 1 5"
      height="0.25"
      width="0.25"
      depth="0.25"
      color="green"
      item-checker
    ></a-box>

    <a-box
      id="ID_Artifact_Checker_3"
      position="-1 1 5"
      height="0.25"
      width="0.25"
      depth="0.25"
      color="green"
      item-checker
    ></a-box> -->

    <!-- Environment (.glb) & Navmesh Entities -->
    <a-entity
      gltf-model="#ID_Environment_Model"
      position="0 0 0"
      shadow="receive: true; cast: true"
      model-opacity="0.5f"
    ></a-entity>

    <a-entity
    id="ID_Navmesh"
      gltf-model="#ID_Navmesh_Model"
      position="0 0 0"
      visible="false"
      nav-mesh
    ></a-entity>

    <!-- Component Lighting -->
    <a-entity light="type: ambient; intensity: 0.15;"></a-entity>
    <a-entity light="intensity: 0.1; castShadow: false" position="1 0 0"></a-entity>
    <a-entity light="intensity: 0.1; castShadow: false" position="-1 0 0"></a-entity>
    <a-entity light="intensity: 0.1; castShadow: false" position="0 -1 0"></a-entity>
    <a-entity light="intensity: 0.6; castShadow: false" position="0 1 0"></a-entity>
    <a-entity light="intensity: 0.1; castShadow: false" position="0 0 1"></a-entity>
    <a-entity light="intensity: 0.1; castShadow: false" position="0 0 -1"></a-entity>

  </a-scene>

  <!-- Circles' end scripts [REQUIRED] -->
  <circles-end-scripts/>
 </body>
</html>